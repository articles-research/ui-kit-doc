"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[791],{"./src/components/POCCirclePackgingChart/CirclePackingChart.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__}),__webpack_require__("./node_modules/react/index.js");var _Default$parameters,_Default$parameters2,_Default$parameters2$,_CirclePackingChart__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/POCCirclePackgingChart/CirclePackingChart.tsx"),_services_api_search_tasks__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/services/api/search_tasks/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");let __WEBPACK_DEFAULT_EXPORT__={title:"Components/Circle Packing Chart POC",component:_CirclePackingChart__WEBPACK_IMPORTED_MODULE_1__.Z,tags:["autodocs"],decorators:[Story=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("svg",{width:1e3,height:1e3,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(Story,{})})]},Default={args:{data:JSON.parse(JSON.stringify((0,_CirclePackingChart__WEBPACK_IMPORTED_MODULE_1__.O)(_services_api_search_tasks__WEBPACK_IMPORTED_MODULE_2__.qR),(key,value)=>{if("parent"!==key)return value}))}};Default.parameters={...Default.parameters,docs:{...null===(_Default$parameters=Default.parameters)||void 0===_Default$parameters?void 0:_Default$parameters.docs,source:{originalSource:"{\n  args: {\n    data: JSON.parse(JSON.stringify(buildCirclePackingChartData(ClustersMap), (key, value) => {\n      if (key === 'parent') return;\n      return value;\n    }))\n  }\n}",...null===(_Default$parameters2=Default.parameters)||void 0===_Default$parameters2?void 0:null===(_Default$parameters2$=_Default$parameters2.docs)||void 0===_Default$parameters2$?void 0:_Default$parameters2$.source}}};let __namedExportsOrder=["Default"]},"./src/components/POCCirclePackgingChart/CirclePackingChart.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{O:()=>buildCirclePackingChartData,Z:()=>POCCirclePackgingChart_CirclePackingChart});var react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),src=__webpack_require__("./node_modules/d3/src/index.js"),tippy_react_esm=__webpack_require__("./node_modules/@tippyjs/react/dist/tippy-react.esm.js"),EventObject=__webpack_require__("./src/ui-kit/EventObject.tsx");__webpack_require__("./node_modules/tippy.js/dist/tippy.css");let CirclePackingChart_module={circle:"CirclePackingChart_circle__nDwo4",hidden:"CirclePackingChart_hidden__jxWzC"};var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function buildCirclePackingChartData(data){let dimentions={width:928,height:928,paddings:4},hierarchy=src.bT9(data).sum(d=>d.value).sort((a,b)=>b.value-a.value),packGenerator=src.P2p().size([dimentions.width,dimentions.height]).padding(dimentions.paddings);return src.BYU(["#282b2d","#fff"]).domain([0,5]).interpolate(src.JHv),packGenerator(hierarchy)}let CirclePackingChart=_ref=>{let{data,focus,onFocus,onClick}=_ref,color=src.BYU(["#282b2d","#fff"]).domain([0,5]).interpolate(src.JHv),root=buildCirclePackingChartData(data.data),colores={1:"#3d4042",focused:"#36414a",work:"#5e676e",hovered:"#fff"},getColor=(0,react.useCallback)(d=>d.data.id===focus?colores.focused:1===d.depth?colores[1]:color(d.depth),[focus]),handleClick=(0,react.useCallback)(node=>{node.data.children?null==onFocus||onFocus(new EventObject.f(node.data.id,{data:node})):null==onClick||onClick(new EventObject.f(node.data.id))},[onClick,onFocus]);return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:root.descendants().slice(1).map(d=>(0,jsx_runtime.jsx)(tippy_react_esm.ZP,{content:d.data.name,className:classnames_default()(d.data.children&&CirclePackingChart_module.hidden),children:(0,jsx_runtime.jsx)("circle",{className:CirclePackingChart_module.circle,r:d.r,cx:d.x,cy:d.y,fill:getColor(d),onClick:()=>handleClick(d)})}))})},POCCirclePackgingChart_CirclePackingChart=CirclePackingChart;try{buildCirclePackingChartData.displayName="buildCirclePackingChartData",buildCirclePackingChartData.__docgenInfo={description:"",displayName:"buildCirclePackingChartData",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string | number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/POCCirclePackgingChart/CirclePackingChart.tsx#buildCirclePackingChartData"]={docgenInfo:buildCirclePackingChartData.__docgenInfo,name:"buildCirclePackingChartData",path:"src/components/POCCirclePackgingChart/CirclePackingChart.tsx#buildCirclePackingChartData"})}catch(__react_docgen_typescript_loader_error){}try{CirclePackingChart.displayName="CirclePackingChart",CirclePackingChart.__docgenInfo={description:"",displayName:"CirclePackingChart",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"HierarchyCircularNode<Branch>"}},focus:{defaultValue:null,description:"",name:"focus",required:!1,type:{name:"string"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"((e: EventObject<string | number>) => {})"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((e: EventObject<string | number>) => {})"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/POCCirclePackgingChart/CirclePackingChart.tsx#CirclePackingChart"]={docgenInfo:CirclePackingChart.__docgenInfo,name:"CirclePackingChart",path:"src/components/POCCirclePackgingChart/CirclePackingChart.tsx#CirclePackingChart"})}catch(__react_docgen_typescript_loader_error){}},"./src/domain/Cluster/Cluster.mocks.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>Clusters});let SUMMARY_5_SENTENCES="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Nunc pulvinar sapien et ligula ullamcorper malesuada proin libero. Dolor purus non enim praesent elementum. Cras tincidunt lobortis feugiat vivamus. Scelerisque fermentum dui faucibus in ornare quam viverra.",SUMMARY_6_SENTENCES="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. In hendrerit gravida rutrum quisque non tellus. Sed vulputate mi sit amet. Amet nulla facilisi morbi tempus iaculis urna. Placerat duis ultricies lacus sed. Egestas quis ipsum suspendisse ultrices gravida.",SUMMARY_7_SENTENCES="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Lacus vestibulum sed arcu non odio. Tristique et egestas quis ipsum suspendisse ultrices gravida. Urna cursus eget nunc scelerisque viverra mauris in. Tortor condimentum lacinia quis vel eros donec ac odio tempor. Purus viverra accumsan in nisl nisi scelerisque eu ultrices vitae. At augue eget arcu dictum varius duis at consectetur.",SUMMARY_8_SENTENCES="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Faucibus in ornare quam viverra. At tempor commodo ullamcorper a. Lectus arcu bibendum at varius vel pharetra vel. Quis hendrerit dolor magna eget est lorem. Vel fringilla est ullamcorper eget nulla facilisi etiam dignissim. At quis risus sed vulputate odio ut enim blandit volutpat. Duis convallis convallis tellus id interdum velit laoreet id.",SUMMARY_9_SENTENCES="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ante in nibh mauris cursus mattis molestie. Sed odio morbi quis commodo odio aenean. Egestas diam in arcu cursus euismod. Mi quis hendrerit dolor magna eget est. Nulla porttitor massa id neque aliquam vestibulum morbi. Aenean vel elit scelerisque mauris pellentesque pulvinar pellentesque habitant morbi. Amet consectetur adipiscing elit duis tristique sollicitudin nibh. A pellentesque sit amet porttitor eget.",fos_list=Object.values({1:{id:"1",display_name:"Biology",level:0},2:{id:"2",display_name:"Philosophy",level:0},3:{id:"3",display_name:"Chemistry",level:0}}).map(fos=>fos.display_name),plot_data={},Clusters={1:{id:1,task_id:1,name:"congue quisque",summary:SUMMARY_5_SENTENCES,works_count:10,fos_list,plot_data},2:{id:2,task_id:1,name:"impsum dolor",summary:SUMMARY_9_SENTENCES,works_count:15,fos_list,plot_data},3:{id:3,task_id:1,name:"sim amet",summary:SUMMARY_6_SENTENCES,works_count:11,fos_list,plot_data},4:{id:4,task_id:1,name:"eiusmod tempor",summary:SUMMARY_8_SENTENCES,works_count:14,fos_list,plot_data},5:{id:5,task_id:1,name:"ut labore",summary:SUMMARY_7_SENTENCES,works_count:12,fos_list,plot_data},6:{id:6,task_id:1,name:"magna",summary:SUMMARY_9_SENTENCES,works_count:13,fos_list,plot_data},7:{id:7,task_id:1,name:"et dolore",summary:SUMMARY_5_SENTENCES,works_count:20,fos_list,plot_data},8:{id:8,task_id:1,name:"ante in nibh",summary:SUMMARY_8_SENTENCES,works_count:16,fos_list,plot_data},9:{id:9,task_id:1,name:"mauris cursus",summary:SUMMARY_6_SENTENCES,works_count:19,fos_list,plot_data},10:{id:10,task_id:1,name:"egestas quis",summary:SUMMARY_7_SENTENCES,works_count:17,fos_list,plot_data}}},"./src/domain/SearchTask/SearchTask.mocks.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Fw:()=>FinishedTaskFactory,LV:()=>ProcessingTaskFactory,gi:()=>TaskFactory,hS:()=>Tasks});let Tasks={1:{id:1,created_at:"01-12-2023",search_query:"ac turpis egestas integer eget aliquet nibh praesent tristique"},2:{id:2,created_at:"02-12-2023",search_query:"egestas quis ipsum suspendisse ultrices gravida dictum fusce ut placerat"},3:{id:3,created_at:"03-12-2023",search_query:"vitae purus faucibus ornare suspendisse sed nisi lacus"},4:{id:4,created_at:"04-12-2023",search_query:"mattis aliquam faucibus purus in massa tempor"},5:{id:5,created_at:"05-12-2023",search_query:"netus et malesuada fames ac turpis"},6:{id:6,created_at:"06-12-2023",search_query:"pellentesque nec nam aliquam sem"},7:{id:7,created_at:"07-12-2023",search_query:"ut placerat orci nulla"},8:{id:8,created_at:"08-12-2023",search_query:"scelerisque purus semper"},9:{id:9,created_at:"09-12-2023",search_query:"dolor morbi"},10:{id:10,created_at:"10-12-2023",search_query:"quam"}},TaskFactory=function(id){let mixinCb=arguments.length>1&&void 0!==arguments[1]?arguments[1]:task=>task;return mixinCb(Tasks[id])},ProcessingTaskFactory=id=>TaskFactory(id,task=>({...task,status:"Running",processing_step:"CLUSTERING"})),FinishedTaskFactory=id=>TaskFactory(id,task=>({...task,status:"Finished"}))},"./src/services/api/mock.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{j:()=>MOCK_SERVER});let MOCK_SERVER="http://188.124.55.238:8000"},"./src/services/api/search_tasks/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Bo:()=>getSearchTasks,d2:()=>getSearchTaskByIdRequestFactory,qR:()=>ClustersMap,sg:()=>getClustersBySearchTaskIdRequestFactory});var msw__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/msw/lib/index.js"),_mock__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/services/api/mock.ts"),_domain_SearchTask_SearchTask_mocks__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/domain/SearchTask/SearchTask.mocks.ts"),_domain_Cluster_Cluster_mocks__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/domain/Cluster/Cluster.mocks.ts");let getSearchTasks=msw__WEBPACK_IMPORTED_MODULE_2__.rest.get("".concat(_mock__WEBPACK_IMPORTED_MODULE_3__.j,"/api/v1/search_tasks"),(_req,res,ctx)=>res(ctx.json(Object.values(_domain_SearchTask_SearchTask_mocks__WEBPACK_IMPORTED_MODULE_0__.hS)))),ClustersMap={name:"Zero cluster name",id:0,children:Object.values(_domain_Cluster_Cluster_mocks__WEBPACK_IMPORTED_MODULE_1__.C).map(cluster=>({name:cluster.name,id:cluster.id,children:[{name:"Work 1",id:"1",value:5},{name:"Work 2",id:"1",value:20},{name:"Work 3",id:"1",value:10}]}))};function clustersMapDecorator(task){return{...task,clusters_map:ClustersMap}}let getSearchTaskByIdRequestFactory=function(id){let taskFactory=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_domain_SearchTask_SearchTask_mocks__WEBPACK_IMPORTED_MODULE_0__.gi;return msw__WEBPACK_IMPORTED_MODULE_2__.rest.get("".concat(_mock__WEBPACK_IMPORTED_MODULE_3__.j,"/api/v1/search_tasks/").concat(id),(_req,res,ctx)=>res(ctx.json(clustersMapDecorator(taskFactory(id)))))},getClustersBySearchTaskIdRequestFactory=id=>msw__WEBPACK_IMPORTED_MODULE_2__.rest.get("".concat(_mock__WEBPACK_IMPORTED_MODULE_3__.j,"/api/v1/search_tasks/").concat(id,"/clusters"),(_req,res,ctx)=>res(ctx.json(Object.values(_domain_Cluster_Cluster_mocks__WEBPACK_IMPORTED_MODULE_1__.C).map(cluster=>({...cluster,task_id:id})))))},"./src/ui-kit/EventObject.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{f:()=>EventObject});class EventObject{constructor(value,meta){this.value=void 0,this.meta={},this.value=value,meta&&(this.meta=meta)}}},"./node_modules/tippy.js/dist/tippy.css":()=>{}}]);