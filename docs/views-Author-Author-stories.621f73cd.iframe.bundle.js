"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[248],{"./src/views/Author/Author.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{LoadingAuthor:()=>LoadingAuthor,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Author_stories});var _CloseIcon,_LoadingAuthor$parame,_LoadingAuthor$parame2,_LoadingAuthor$parame3,react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js"),Overlays=__webpack_require__("./src/Overlays/Overlays.js"),react=__webpack_require__("./node_modules/react/index.js"),InfoCard=__webpack_require__("./src/components/InfoCard/InfoCard.tsx");let components_Card=__webpack_require__("./src/components/Card/Card.tsx").Z;var hooks=__webpack_require__("./src/store/hooks.ts"),Authors=__webpack_require__("./src/store/Authors/index.ts"),Box=__webpack_require__("./node_modules/@mui/material/esm/Box/Box.js"),CircularProgress=__webpack_require__("./node_modules/@mui/material/esm/CircularProgress/CircularProgress.js"),objectWithoutPropertiesLoose=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),clsx_m=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),composeClasses=__webpack_require__("./node_modules/@mui/utils/esm/composeClasses/composeClasses.js"),colorManipulator=__webpack_require__("./node_modules/@mui/system/esm/colorManipulator.js"),styled=__webpack_require__("./node_modules/@mui/material/esm/styles/styled.js"),useThemeProps=__webpack_require__("./node_modules/@mui/material/esm/styles/useThemeProps.js"),capitalize=__webpack_require__("./node_modules/@mui/material/esm/utils/capitalize.js"),Paper=__webpack_require__("./node_modules/@mui/material/esm/Paper/Paper.js"),generateUtilityClass=__webpack_require__("./node_modules/@mui/utils/esm/generateUtilityClass/generateUtilityClass.js");function getAlertUtilityClass(slot){return(0,generateUtilityClass.Z)("MuiAlert",slot)}let alertClasses=(0,__webpack_require__("./node_modules/@mui/utils/esm/generateUtilityClasses/generateUtilityClasses.js").Z)("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);var IconButton=__webpack_require__("./node_modules/@mui/material/esm/IconButton/IconButton.js"),createSvgIcon=__webpack_require__("./node_modules/@mui/material/esm/utils/createSvgIcon.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");let SuccessOutlined=(0,createSvgIcon.Z)((0,jsx_runtime.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),ReportProblemOutlined=(0,createSvgIcon.Z)((0,jsx_runtime.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),ErrorOutline=(0,createSvgIcon.Z)((0,jsx_runtime.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),InfoOutlined=(0,createSvgIcon.Z)((0,jsx_runtime.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),Close=(0,createSvgIcon.Z)((0,jsx_runtime.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),_excluded=["action","children","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"],useUtilityClasses=ownerState=>{let{variant,color,severity,classes}=ownerState,slots={root:["root",`${variant}${(0,capitalize.Z)(color||severity)}`,`${variant}`],icon:["icon"],message:["message"],action:["action"]};return(0,composeClasses.Z)(slots,getAlertUtilityClass,classes)},AlertRoot=(0,styled.ZP)(Paper.Z,{name:"MuiAlert",slot:"Root",overridesResolver:(props,styles)=>{let{ownerState}=props;return[styles.root,styles[ownerState.variant],styles[`${ownerState.variant}${(0,capitalize.Z)(ownerState.color||ownerState.severity)}`]]}})(({theme,ownerState})=>{let getColor="light"===theme.palette.mode?colorManipulator._j:colorManipulator.$n,getBackgroundColor="light"===theme.palette.mode?colorManipulator.$n:colorManipulator._j,color=ownerState.color||ownerState.severity;return(0,esm_extends.Z)({},theme.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},color&&"standard"===ownerState.variant&&{color:theme.vars?theme.vars.palette.Alert[`${color}Color`]:getColor(theme.palette[color].light,.6),backgroundColor:theme.vars?theme.vars.palette.Alert[`${color}StandardBg`]:getBackgroundColor(theme.palette[color].light,.9),[`& .${alertClasses.icon}`]:theme.vars?{color:theme.vars.palette.Alert[`${color}IconColor`]}:{color:"dark"===theme.palette.mode?theme.palette[color].main:theme.palette[color].light}},color&&"outlined"===ownerState.variant&&{color:theme.vars?theme.vars.palette.Alert[`${color}Color`]:getColor(theme.palette[color].light,.6),border:`1px solid ${(theme.vars||theme).palette[color].light}`,[`& .${alertClasses.icon}`]:theme.vars?{color:theme.vars.palette.Alert[`${color}IconColor`]}:{color:"dark"===theme.palette.mode?theme.palette[color].main:theme.palette[color].light}},color&&"filled"===ownerState.variant&&(0,esm_extends.Z)({fontWeight:theme.typography.fontWeightMedium},theme.vars?{color:theme.vars.palette.Alert[`${color}FilledColor`],backgroundColor:theme.vars.palette.Alert[`${color}FilledBg`]}:{backgroundColor:"dark"===theme.palette.mode?theme.palette[color].dark:theme.palette[color].main,color:theme.palette.getContrastText("dark"===theme.palette.mode?theme.palette[color].dark:theme.palette[color].main)}))}),AlertIcon=(0,styled.ZP)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(props,styles)=>styles.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),AlertMessage=(0,styled.ZP)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(props,styles)=>styles.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),AlertAction=(0,styled.ZP)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(props,styles)=>styles.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),defaultIconMapping={success:(0,jsx_runtime.jsx)(SuccessOutlined,{fontSize:"inherit"}),warning:(0,jsx_runtime.jsx)(ReportProblemOutlined,{fontSize:"inherit"}),error:(0,jsx_runtime.jsx)(ErrorOutline,{fontSize:"inherit"}),info:(0,jsx_runtime.jsx)(InfoOutlined,{fontSize:"inherit"})},Alert=react.forwardRef(function Alert(inProps,ref){let props=(0,useThemeProps.Z)({props:inProps,name:"MuiAlert"}),{action,children,className,closeText="Close",color,icon,iconMapping=defaultIconMapping,onClose,role="alert",severity="success",variant="standard"}=props,other=(0,objectWithoutPropertiesLoose.Z)(props,_excluded),ownerState=(0,esm_extends.Z)({},props,{color,severity,variant}),classes=useUtilityClasses(ownerState);return(0,jsx_runtime.jsxs)(AlertRoot,(0,esm_extends.Z)({role:role,elevation:0,ownerState:ownerState,className:(0,clsx_m.Z)(classes.root,className),ref:ref},other,{children:[!1!==icon?(0,jsx_runtime.jsx)(AlertIcon,{ownerState:ownerState,className:classes.icon,children:icon||iconMapping[severity]||defaultIconMapping[severity]}):null,(0,jsx_runtime.jsx)(AlertMessage,{ownerState:ownerState,className:classes.message,children:children}),null!=action?(0,jsx_runtime.jsx)(AlertAction,{ownerState:ownerState,className:classes.action,children:action}):null,null==action&&onClose?(0,jsx_runtime.jsx)(AlertAction,{ownerState:ownerState,className:classes.action,children:(0,jsx_runtime.jsx)(IconButton.Z,{size:"small","aria-label":closeText,title:closeText,color:"inherit",onClick:onClose,children:_CloseIcon||(_CloseIcon=(0,jsx_runtime.jsx)(Close,{fontSize:"small"}))})}):null]}))});function getStaticMarkupTexts(){return{education:"Образование",experience:"Опыт",awards:"Награды"}}function useAuthorInfo(id){let dispatch=(0,hooks.T)(),author=(0,hooks.C)(Authors.k.selectAuthorById(id)),isLoading=(0,hooks.C)(Authors.k.selectAuthorRequestLoadingState),error=(0,hooks.C)(Authors.k.selectFetchOneError);return(0,react.useEffect)(()=>{dispatch(Authors.k.fetchAuthorById(id))},[dispatch,id]),{author,isLoading:isLoading,error}}let AuthorInfo=_ref=>{let{id}=_ref,{author,isLoading,error}=useAuthorInfo(id),{education,experience,awards}=getStaticMarkupTexts();return isLoading?(0,jsx_runtime.jsx)(Box.Z,{width:"100%",display:"flex",justifyContent:"center",children:(0,jsx_runtime.jsx)(CircularProgress.Z,{})}):error?(0,jsx_runtime.jsx)(Alert,{severity:"error",children:error}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(InfoCard.Z,{id:id,name:null==author?void 0:author.display_name,description:null==author?void 0:author.institution_name,articlesCount:null==author?void 0:author.works_count,quotesCount:null==author?void 0:author.cited_by_count,hIndex:null==author?void 0:author.hindex,linkedin:null==author?void 0:author.linkedin_url,emails:null==author?void 0:author.emails}),(0,jsx_runtime.jsx)(components_Card,{title:education,collapsible:!0,disabled:!0}),(0,jsx_runtime.jsx)(components_Card,{title:experience,collapsible:!0,disabled:!0}),(0,jsx_runtime.jsx)(components_Card,{title:awards,collapsible:!0,disabled:!0})]})};try{AuthorInfo.displayName="AuthorInfo",AuthorInfo.__docgenInfo={description:"",displayName:"AuthorInfo",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/views/Author/AuthorInfo/AuthorInfo.tsx#AuthorInfo"]={docgenInfo:AuthorInfo.__docgenInfo,name:"AuthorInfo",path:"src/views/Author/AuthorInfo/AuthorInfo.tsx#AuthorInfo"})}catch(__react_docgen_typescript_loader_error){}var classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),react_infinite_scroller=__webpack_require__("./node_modules/react-infinite-scroller/index.js"),react_infinite_scroller_default=__webpack_require__.n(react_infinite_scroller);let AuthorWorks_module={loader:"AuthorWorks_loader__A8sMO",works:"AuthorWorks_works__Da+r0",loading:"AuthorWorks_loading__8dNs7"};var Article=__webpack_require__("./src/components/Article/index.ts"),Works=__webpack_require__("./src/store/Works/index.ts"),ActiveFilter=__webpack_require__("./src/store/ActiveFilter/index.ts"),store=__webpack_require__("./src/services/store/store.js");let AuthorWorks=_ref=>{let{id,className}=_ref,{works,totalWorks,handleWorksLoad,handleWorkClick,isLoading,error}=useAuthorWorks(id);return!works.length&&isLoading?(0,jsx_runtime.jsx)(Box.Z,{className:classnames_default()(className),display:"flex",justifyContent:"center",children:(0,jsx_runtime.jsx)(CircularProgress.Z,{})}):error?(0,jsx_runtime.jsx)(Box.Z,{className:classnames_default()(className,AuthorWorks_module.works),children:(0,jsx_runtime.jsx)(Alert,{severity:"error",children:error})}):(0,jsx_runtime.jsx)(react_infinite_scroller_default(),{element:"ul",pageStart:1,className:classnames_default()(className,AuthorWorks_module.works,isLoading&&AuthorWorks_module.loading),loadMore:handleWorksLoad,initialLoad:!1,hasMore:!!totalWorks&&totalWorks>works.length,useWindow:!0,loader:(0,jsx_runtime.jsx)("div",{className:AuthorWorks_module.loader,children:(0,jsx_runtime.jsx)(CircularProgress.Z,{})},"loader"),children:works.length?works.map(work=>(0,jsx_runtime.jsx)(Article.Z,{id:work.id,publicationDate:work.publication_date,fieldsOfStudy:work.fos_list,title:work.title,citeCount:work.cited_by_count,authors:work.authors_list,onClick:handleWorkClick},work.id)):(0,jsx_runtime.jsx)("div",{children:"Ничего не найдено"})},id)};function useAuthorWorks(id){let works=(0,hooks.C)(Works.I.selectWorks),totalWorks=(0,hooks.C)(ActiveFilter._.selectTotalWorksCount),isLoading=(0,hooks.C)(Works.I.selectFetchManyLoadingState),error=(0,hooks.C)(Works.I.selectFetchManyError),[setOpenOverlay]=(0,store.Z)(state=>[state.setOpenOverlay]),dispatch=(0,hooks.T)();return(0,react.useEffect)(()=>{dispatch(Works.I.fetchWorksByAuthorId({id,page:"1",size:"15"}))},[dispatch,id]),{totalWorks,works,isLoading:isLoading,error,handleWorksLoad:(0,react.useCallback)(page=>{console.warn(page),dispatch(Works.I.fetchWorksByAuthorId({id,page:"".concat(page),size:"15"}))},[dispatch,id]),handleWorkClick:(0,react.useCallback)(id=>{setOpenOverlay({Work:id})},[setOpenOverlay])}}try{AuthorWorks.displayName="AuthorWorks",AuthorWorks.__docgenInfo={description:"",displayName:"AuthorWorks",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/views/Author/AuthorWorks/AuthorWorks.tsx#AuthorWorks"]={docgenInfo:AuthorWorks.__docgenInfo,name:"AuthorWorks",path:"src/views/Author/AuthorWorks/AuthorWorks.tsx#AuthorWorks"})}catch(__react_docgen_typescript_loader_error){}var ui_kit_Paper=__webpack_require__("./src/ui-kit/Paper/index.ts");let TopAuthors_module={authors:"TopAuthors_authors__ykLUz",title:"TopAuthors_title__pm7gP",header:"TopAuthors_header__thAMd"};var Button=__webpack_require__("./src/ui-kit/Button/index.ts"),AuthorItem=__webpack_require__("./src/components/AuthorItem/index.ts");let TopAuthors=_ref=>{let{persons,id,className}=_ref,setOpenOverlay=(0,store.Z)(state=>state.setOpenOverlay);return(0,jsx_runtime.jsxs)(ui_kit_Paper.Z,{className:TopAuthors_module.authors,children:[(0,jsx_runtime.jsx)("header",{className:TopAuthors_module.header,children:(0,jsx_runtime.jsx)("h3",{className:TopAuthors_module.title,children:"Top authors"})}),(0,jsx_runtime.jsx)("section",{className:classnames_default()(className,TopAuthors_module.content),children:persons.map(i=>(0,jsx_runtime.jsx)(AuthorItem.Z,{id:i.id,citeCount:i.cited_by_count,name:i.display_name,hIndex:i.hindex,worksCount:i.works_count,linkedinUrl:i.linkedin_url,emails:i.emails,linkedinUpdateDate:i.linkedin_url_updated_date,institution:i.institution_name},i.id))}),(0,jsx_runtime.jsx)(Button.Z,{onClick:()=>setOpenOverlay({Authors:{id}}),color:"primary",accent:"light",children:"Все"})]})};try{TopAuthors.displayName="TopAuthors",TopAuthors.__docgenInfo={description:"",displayName:"TopAuthors",props:{persons:{defaultValue:null,description:"",name:"persons",required:!0,type:{name:"Author[]"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/TopAuthors/TopAuthors.tsx#TopAuthors"]={docgenInfo:TopAuthors.__docgenInfo,name:"TopAuthors",path:"src/components/TopAuthors/TopAuthors.tsx#TopAuthors"})}catch(__react_docgen_typescript_loader_error){}let AuthorCoauthors_module={coauthors:"AuthorCoauthors_coauthors__jtF3J",loading:"AuthorCoauthors_loading__7hE-U"},AuthorCoauthors_AuthorCoauthors=_ref=>{let{id,className}=_ref,{persons,isLoading,error}=usePersonCoauthors(id);return!persons.length&&isLoading?(0,jsx_runtime.jsx)(Box.Z,{className:className,display:"flex",justifyContent:"center",children:(0,jsx_runtime.jsx)(CircularProgress.Z,{})}):error?(0,jsx_runtime.jsx)(Alert,{severity:"error",className:className,children:error}):(0,jsx_runtime.jsx)("section",{className:classnames_default()(className,AuthorCoauthors_module.coauthors),children:(0,jsx_runtime.jsx)(TopAuthors,{className:classnames_default()(isLoading&&AuthorCoauthors_module.loading),id:id,persons:persons})})};function usePersonCoauthors(id){let dispatch=(0,hooks.T)(),topAuthors=(0,hooks.C)(Authors.k.selectTopCoauthors),isLoading=(0,hooks.C)(Authors.k.selectLoadingState),error=(0,hooks.C)(Authors.k.selectFetchManyError);return(0,react.useEffect)(()=>{dispatch(Authors.k.fetchAuthorsByAuthorId({id,page:"1",size:"15"}))},[dispatch,id]),{persons:topAuthors,isLoading,error}}try{AuthorCoauthors_AuthorCoauthors.displayName="AuthorCoauthors",AuthorCoauthors_AuthorCoauthors.__docgenInfo={description:"",displayName:"AuthorCoauthors",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/views/Author/AuthorCoauthors/AuthorCoauthors.tsx#AuthorCoauthors"]={docgenInfo:AuthorCoauthors_AuthorCoauthors.__docgenInfo,name:"AuthorCoauthors",path:"src/views/Author/AuthorCoauthors/AuthorCoauthors.tsx#AuthorCoauthors"})}catch(__react_docgen_typescript_loader_error){}try{AuthorCoauthors.displayName="AuthorCoauthors",AuthorCoauthors.__docgenInfo={description:"",displayName:"AuthorCoauthors",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/views/Author/AuthorCoauthors/index.tsx#AuthorCoauthors"]={docgenInfo:AuthorCoauthors.__docgenInfo,name:"AuthorCoauthors",path:"src/views/Author/AuthorCoauthors/index.tsx#AuthorCoauthors"})}catch(__react_docgen_typescript_loader_error){}let InterestsChart=()=>(0,jsx_runtime.jsx)(ui_kit_Paper.Z,{className:"InterestsChart_chart__wsMuB",children:(0,jsx_runtime.jsx)("h1",{children:"Interests Chart"})});try{InterestsChart.displayName="InterestsChart",InterestsChart.__docgenInfo={description:"",displayName:"InterestsChart",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InterestsChart/InterestsChart.tsx#InterestsChart"]={docgenInfo:InterestsChart.__docgenInfo,name:"InterestsChart",path:"src/components/InterestsChart/InterestsChart.tsx#InterestsChart"})}catch(__react_docgen_typescript_loader_error){}let Filters_module={header:"Filters_header__+-bj5",sort:"Filters_sort__yGiqI",filter:"Filters_filter__aLekd"};var Link=__webpack_require__("./node_modules/@mui/material/esm/Link/Link.js"),Angle=__webpack_require__("./src/icons/Angle/index.ts");function Filters_getStaticMarkupTexts(){return{works:"статьи",sort:"По дате публикации"}}let Filters=()=>{let totalWorksCount=(0,hooks.C)(ActiveFilter._.selectTotalWorksCount),{works,sort}=Filters_getStaticMarkupTexts();return(0,jsx_runtime.jsx)("section",{className:Filters_module.filter,children:(0,jsx_runtime.jsxs)("header",{className:Filters_module.header,children:[(0,jsx_runtime.jsx)("h1",{className:Filters_module.total,children:totalWorksCount?"".concat(totalWorksCount.toLocaleString()," ").concat(works):"Ищем..."}),(0,jsx_runtime.jsxs)(Link.Z,{className:Filters_module.sort,children:[(0,jsx_runtime.jsx)(Angle.Z,{style:{width:"16px",height:"16px"}}),sort]})]})})};try{Filters.displayName="Filters",Filters.__docgenInfo={description:"",displayName:"Filters",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Filters/Filters.tsx#Filters"]={docgenInfo:Filters.__docgenInfo,name:"Filters",path:"src/components/Filters/Filters.tsx#Filters"})}catch(__react_docgen_typescript_loader_error){}let Author=()=>{let{id}=(0,react_router.UO)();return useSetFiltrationScope("authors"),(0,jsx_runtime.jsxs)("main",{className:"Author_view__BUBZR",children:[(0,jsx_runtime.jsx)("aside",{className:"Author_info__qX6Q0",children:(0,jsx_runtime.jsx)(AuthorInfo,{id:id})}),(0,jsx_runtime.jsxs)("section",{className:"Author_content__1ub0p",children:[(0,jsx_runtime.jsx)(InterestsChart,{}),(0,jsx_runtime.jsx)(Filters,{}),(0,jsx_runtime.jsxs)("div",{className:"Author_filterResults__bcfdB",children:[(0,jsx_runtime.jsx)(AuthorWorks,{className:"Author_works__Ub92E",id:id}),(0,jsx_runtime.jsx)(AuthorCoauthors_AuthorCoauthors,{className:"Author_coauthors__RrYqn",id:id})]})]})]})};function useSetFiltrationScope(scope){let dispatch=(0,hooks.T)();(0,react.useEffect)(()=>{dispatch(ActiveFilter._.set(scope))},[dispatch,scope])}try{Author.displayName="Author",Author.__docgenInfo={description:"",displayName:"Author",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/views/Author/Author.tsx#Author"]={docgenInfo:Author.__docgenInfo,name:"Author",path:"src/views/Author/Author.tsx#Author"})}catch(__react_docgen_typescript_loader_error){}var Author_mocks=__webpack_require__("./src/domain/Author/Author.mocks.ts"),redux_toolkit_modern=__webpack_require__("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.modern.mjs"),react_redux=__webpack_require__("./node_modules/react-redux/dist/react-redux.mjs");let MockStore=_ref=>{let{children}=_ref;return(0,jsx_runtime.jsx)(react_redux.zt,{store:(0,redux_toolkit_modern.xC)({reducer:{ActiveFilter:ActiveFilter.Z,Works:Works.Z,Authors:Authors.Z}}),children:children})};try{MockStore.displayName="MockStore",MockStore.__docgenInfo={description:"",displayName:"MockStore",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/store/mock.tsx#MockStore"]={docgenInfo:MockStore.__docgenInfo,name:"MockStore",path:"src/store/mock.tsx#MockStore"})}catch(__react_docgen_typescript_loader_error){}var lib=__webpack_require__("./node_modules/msw/lib/index.js"),mock=__webpack_require__("./src/services/api/mock.ts"),Work_mocks=__webpack_require__("./src/domain/Work/Work.mocks.ts"),v4=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js"),lorem=__webpack_require__("./src/lorem.tsx"),mock_utils=__webpack_require__("./src/domain/mock.utils.ts");let institutionsListMockFactory=size=>{let institutions=[];for(let i=0;i<size;i++)institutions.push({id:(0,v4.Z)(),display_name:lorem.Z.generateWords((0,mock_utils.xT)(4,8)),max_hindex:(0,mock_utils.xT)(100,1e3),works_count:(0,mock_utils.xT)(10,150),items:(0,Author_mocks.Ay)((0,mock_utils.xT)(5,20))});return institutions},AuthorsMap=new Map,WorksMap=new Map,WorksAbstractsMap=new Map,AuthorWorksMap=new Map,AuthorCoauthorsMap=new Map,authorsSet=[(0,Author_mocks.TY)(Author_mocks.ni),...(0,Author_mocks.Ay)((0,mock_utils.xT)(100,150))];authorsSet.forEach(author=>{AuthorsMap.set(author.id,author);let authorWorks=[],authorCoauthors=[];AuthorWorksMap.set(author.id,authorWorks),AuthorCoauthorsMap.set(author.id,authorCoauthors),authorCoauthors.push(...authorsSet),(0,Work_mocks.vo)((0,mock_utils.xT)(50,90)).forEach(work=>{work.authors=authorsSet,WorksAbstractsMap.set(work.id,work.abstract),delete work.abstract,WorksMap.set(work.id,work),authorWorks.push(work)})});let Author_stories={title:"Views/Author",component:Author,decorators:[Story=>(0,jsx_runtime.jsxs)(MockStore,{children:[(0,jsx_runtime.jsx)(Story,{}),(0,jsx_runtime.jsx)(Overlays.Z,{})]}),Story=>(0,jsx_runtime.jsx)(react_router.VA,{initialEntries:["/author/".concat(Author_mocks.ni)],children:(0,jsx_runtime.jsx)(react_router.AW,{path:"/author/:id",children:(0,jsx_runtime.jsx)(Story,{})})})],parameters:{msw:{handlers:[lib.rest.get("".concat(mock.j,"/api/v1/authors/:id"),(req,res,ctx)=>{let{id}=req.params;return res(AuthorsMap.get(id)?ctx.json(AuthorsMap.get(id)):ctx.status(404))}),lib.rest.get("".concat(mock.j,"/api/v1/authors/:id/works"),(req,res,ctx)=>{let{id}=req.params,url=new URL(req.url),page=+url.searchParams.get("page")-1,size=+url.searchParams.get("size"),items=AuthorWorksMap.get(id).slice(page*size,page*size+size);return res(ctx.json({items,total:AuthorWorksMap.get(id).length,page:page+1,size:+size}))}),lib.rest.get("".concat(mock.j,"/api/v1/authors/:id/authors"),(req,res,ctx)=>{let{id}=req.params,url=new URL(req.url),page=+url.searchParams.get("page")-1,size=+url.searchParams.get("size"),items=AuthorCoauthorsMap.get(id).slice(page*size,page*size+size);return res(ctx.json({items,total:AuthorCoauthorsMap.get(id).length,page:page+1,size:+size}))}),lib.rest.get("".concat(mock.j,"/api/v1/works/:id"),(req,res,ctx)=>{let{id}=req.params,work={...WorksMap.get(id),abstract:WorksAbstractsMap.get(id)};return WorksMap.set(id,work),res(ctx.json(work))}),lib.rest.get("".concat(mock.j,"/api/v1/authors/:id/search_emails"),(req,res,ctx)=>{let{id}=req.params,author={...AuthorsMap.get(id),emails:(0,Author_mocks.aP)()};return AuthorsMap.set(id,author),res(ctx.json(author))}),lib.rest.get("".concat(mock.j,"/api/v1/authors/:id/search_linkedin"),(req,res,ctx)=>{let{id}=req.params,author={...AuthorsMap.get(id),...(0,Author_mocks.Tt)()};return AuthorsMap.set(id,author),res(ctx.json(author))}),lib.rest.get("".concat(mock.j,"/api/v1/author/").concat(Author_mocks.ni,"/institutions"),(_req,res,ctx)=>res(ctx.json({items:institutionsListMockFactory(15),total:15,page:0,size:15})))]}}},LoadingAuthor={args:{}};LoadingAuthor.parameters={...LoadingAuthor.parameters,docs:{...null===(_LoadingAuthor$parame=LoadingAuthor.parameters)||void 0===_LoadingAuthor$parame?void 0:_LoadingAuthor$parame.docs,source:{originalSource:"{\n  args: {}\n}",...null===(_LoadingAuthor$parame2=LoadingAuthor.parameters)||void 0===_LoadingAuthor$parame2?void 0:null===(_LoadingAuthor$parame3=_LoadingAuthor$parame2.docs)||void 0===_LoadingAuthor$parame3?void 0:_LoadingAuthor$parame3.source}}};let __namedExportsOrder=["LoadingAuthor"]},"./src/components/Article/Article.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>Article_Article});let Article_module={authorsCount:"Article_authorsCount__dEvj6",title:"Article_title__C0EeU",header:"Article_header__fwzA9",authors:"Article_authors__Os109",citeCount:"Article_citeCount__gusy2",footer:"Article_footer__nL0BV",articleItem:"Article_articleItem__5xi6j",date:"Article_date__xYBJw",fieldOfStudy:"Article_fieldOfStudy__p15eq",author:"Article_author__bFGNv"};var Cite=__webpack_require__("./src/icons/Cite/index.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");let Article=props=>(0,jsx_runtime.jsxs)("article",{className:Article_module.articleItem,onClick:()=>props.onClick(props.id),children:[(0,jsx_runtime.jsxs)("header",{className:Article_module.header,children:[(0,jsx_runtime.jsx)("time",{dateTime:props.publicationDate,className:Article_module.date,children:props.publicationDate}),props.fieldsOfStudy&&props.fieldsOfStudy.slice(0,2).map((fieldOfStudy,index)=>(0,jsx_runtime.jsx)("span",{className:Article_module.fieldOfStudy,children:fieldOfStudy},index))]}),(0,jsx_runtime.jsx)("h4",{className:Article_module.title,children:props.title}),(0,jsx_runtime.jsxs)("footer",{className:Article_module.footer,children:[(0,jsx_runtime.jsxs)("p",{className:Article_module.citeCount,children:[(0,jsx_runtime.jsx)(Cite.Z,{}),props.citeCount]}),props.authors&&(0,jsx_runtime.jsx)(AuthorsList,{authors:props.authors})]})]}),Article_Article=Article,AuthorsList=_ref=>{let list,{authors}=_ref;return list=1===authors.length?(0,jsx_runtime.jsx)("span",{className:Article_module.author,children:authors.at(0)}):2===authors.length?[(0,jsx_runtime.jsxs)("span",{className:Article_module.author,children:[authors.at(0),","]},0),(0,jsx_runtime.jsx)("span",{className:Article_module.author,children:authors.at(1)},1)]:[(0,jsx_runtime.jsx)("span",{className:Article_module.author,children:authors.at(0)},0),authors.length-2>0&&(0,jsx_runtime.jsxs)("span",{className:Article_module.authorsCount,children:["+",authors.length-2]},1),(0,jsx_runtime.jsx)("span",{className:Article_module.author,children:authors.at(-1)},2)],(0,jsx_runtime.jsx)("p",{className:Article_module.authors,children:list})};try{Article.displayName="Article",Article.__docgenInfo={description:"",displayName:"Article",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},publicationDate:{defaultValue:null,description:"",name:"publicationDate",required:!0,type:{name:"StringDate"}},fieldsOfStudy:{defaultValue:null,description:"",name:"fieldsOfStudy",required:!1,type:{name:"string[]"}},citeCount:{defaultValue:null,description:"",name:"citeCount",required:!0,type:{name:"number"}},authors:{defaultValue:null,description:"",name:"authors",required:!1,type:{name:"string[]"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"(id: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Article/Article.tsx#Article"]={docgenInfo:Article.__docgenInfo,name:"Article",path:"src/components/Article/Article.tsx#Article"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Article/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>_Article__WEBPACK_IMPORTED_MODULE_0__.Z});var _Article__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/components/Article/Article.tsx")},"./src/components/Card/Card.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>Card_Card});var react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),Paper=__webpack_require__("./src/ui-kit/Paper/index.ts"),Button=__webpack_require__("./src/ui-kit/Button/index.ts"),Angle=__webpack_require__("./src/icons/Angle/index.ts");let Card_module={card:"Card_card__zQfcO",title:"Card_title__fjt9r",header:"Card_header__LgAhk",disabled:"Card_disabled__UZFbM",toggler:"Card_toggler__kOy8T"};var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function useCollapsibleCard(collapsible){let[collapsed,toggleCollapse]=(0,react.useState)(!!collapsible||null),handleToggle=(0,react.useCallback)(()=>{toggleCollapse(!collapsed)},[collapsed,toggleCollapse]);return{collapsed,handleToggle}}let Card=_ref=>{let{title,disabled=!1,collapsible=!1}=_ref,{collapsed,handleToggle}=useCollapsibleCard(collapsible),togglerStyles=(0,react.useMemo)(()=>({transform:collapsed?"rotate(0deg)":"rotate(180deg)"}),[collapsed]);return(0,jsx_runtime.jsxs)(Paper.Z,{className:classnames_default()(Card_module.card,disabled&&Card_module.disabled),children:[(0,jsx_runtime.jsxs)("header",{className:Card_module.header,children:[(0,jsx_runtime.jsx)("h1",{className:Card_module.title,children:title}),collapsible&&(0,jsx_runtime.jsx)(Button.Z,{onClick:handleToggle,shape:"icon",children:(0,jsx_runtime.jsx)(Angle.Z,{className:Card_module.toggler,style:togglerStyles})})]}),disabled&&(0,jsx_runtime.jsx)("div",{className:Card_module.disabled})]})},Card_Card=Card;try{Card.displayName="Card",Card.__docgenInfo={description:"",displayName:"Card",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},collapsible:{defaultValue:{value:"false"},description:"",name:"collapsible",required:!1,type:{name:"boolean"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Card/Card.tsx#Card"]={docgenInfo:Card.__docgenInfo,name:"Card",path:"src/components/Card/Card.tsx#Card"})}catch(__react_docgen_typescript_loader_error){}},"./src/domain/Work/Work.mocks.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{V1:()=>WORK,oQ:()=>WORK_LIST,vo:()=>worksListMockFactory});var uuid__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js"),_lorem__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/lorem.tsx"),_mock_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/domain/mock.utils.ts"),_Author_Author_mocks__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/domain/Author/Author.mocks.ts");let WORK={id:"1",title:"Work 1 Title",publication_date:"24/12/2023",cited_by_count:100,abstract:"Work 1 Abstract",fos_list:["Field of Study 1","Field of Study 2"],authors_list:["Author 1","Author 2","Author 3"]},WORK_LIST=[WORK],worksListMockFactory=size=>{let works=[];for(let i=0;i<size;i++)works.push({id:(0,uuid__WEBPACK_IMPORTED_MODULE_3__.Z)(),title:_lorem__WEBPACK_IMPORTED_MODULE_0__.Z.generateSentences(1),publication_date:(0,_mock_utils__WEBPACK_IMPORTED_MODULE_1__.yN)(new Date(2012,0,1),new Date),cited_by_count:(0,_mock_utils__WEBPACK_IMPORTED_MODULE_1__.xT)(0,100),abstract:_lorem__WEBPACK_IMPORTED_MODULE_0__.Z.generateSentences(10),fos_list:(0,_mock_utils__WEBPACK_IMPORTED_MODULE_1__.pB)({minSize:0,maxSize:4,minWords:1,maxWords:2}),authors_list:(0,_mock_utils__WEBPACK_IMPORTED_MODULE_1__.pB)({minSize:2,maxSize:10,minWords:2,maxWords:3}),authors:(0,_Author_Author_mocks__WEBPACK_IMPORTED_MODULE_2__.Ay)((0,_mock_utils__WEBPACK_IMPORTED_MODULE_1__.xT)(3,5))});return works}},"./src/icons/Angle/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>Angle_Angle});var classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),icons_module=__webpack_require__("./src/icons/icons.module.scss"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");let Angle=_ref=>{let{className,...props}=_ref;return(0,jsx_runtime.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:classnames_default()(className,icons_module.Z.icon),...props,children:(0,jsx_runtime.jsx)("path",{d:"M6.29289 9.29289C6.68342 8.90237 7.31658 8.90237 7.70711 9.29289L12 13.5858L16.2929 9.29289C16.6834 8.90237 17.3166 8.90237 17.7071 9.29289C18.0976 9.68342 18.0976 10.3166 17.7071 10.7071L12.7071 15.7071C12.3166 16.0976 11.6834 16.0976 11.2929 15.7071L6.29289 10.7071C5.90237 10.3166 5.90237 9.68342 6.29289 9.29289Z"})})},Angle_Angle=Angle;try{Angle.displayName="Angle",Angle.__docgenInfo={description:"",displayName:"Angle",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/icons/Angle/Angle.tsx#Angle"]={docgenInfo:Angle.__docgenInfo,name:"Angle",path:"src/icons/Angle/Angle.tsx#Angle"})}catch(__react_docgen_typescript_loader_error){}},"./src/icons/Cite/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>Cite_Cite});var icons_module=__webpack_require__("./src/icons/icons.module.scss"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");let Cite=()=>(0,jsx_runtime.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:icons_module.Z.icon,children:[(0,jsx_runtime.jsx)("path",{d:"M8 6.83972C8.20227 6.83972 8.39987 6.85861 8.59092 6.89461C9.96479 7.15351 11 8.29764 11 9.66986C11 11.2329 9.65686 12.5 8 12.5C6.34315 12.5 5 11.2329 5 9.66986C5 8.10682 6.34315 6.83972 8 6.83972Z"}),(0,jsx_runtime.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.504 8.10478L8.16784 3.92019C8.47419 3.48668 9.09506 3.36953 9.55459 3.65854C10.0141 3.94755 10.1383 4.53326 9.83194 4.96677C9.83194 4.96677 9.07557 6.14174 8.59092 6.89461C7.3854 7.36721 5.504 8.10478 5.504 8.10478Z"})]}),Cite_Cite=Cite;try{Cite.displayName="Cite",Cite.__docgenInfo={description:"",displayName:"Cite",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/icons/Cite/Cite.tsx#Cite"]={docgenInfo:Cite.__docgenInfo,name:"Cite",path:"src/icons/Cite/Cite.tsx#Cite"})}catch(__react_docgen_typescript_loader_error){}},"./src/services/api/mock.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{j:()=>MOCK_SERVER});let MOCK_SERVER="http://188.124.55.238:8000"},"./node_modules/uuid/dist/esm-browser/v4.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>esm_browser_v4});var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&!(getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}let regex=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var byteToHex=[],i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));let esm_browser_stringify=function(arr){var offset=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,uuid=(byteToHex[arr[offset+0]]+byteToHex[arr[offset+1]]+byteToHex[arr[offset+2]]+byteToHex[arr[offset+3]]+"-"+byteToHex[arr[offset+4]]+byteToHex[arr[offset+5]]+"-"+byteToHex[arr[offset+6]]+byteToHex[arr[offset+7]]+"-"+byteToHex[arr[offset+8]]+byteToHex[arr[offset+9]]+"-"+byteToHex[arr[offset+10]]+byteToHex[arr[offset+11]]+byteToHex[arr[offset+12]]+byteToHex[arr[offset+13]]+byteToHex[arr[offset+14]]+byteToHex[arr[offset+15]]).toLowerCase();if(!("string"==typeof uuid&&regex.test(uuid)))throw TypeError("Stringified UUID is invalid");return uuid},esm_browser_v4=function(options,buf,offset){var rnds=(options=options||{}).random||(options.rng||rng)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf){offset=offset||0;for(var i=0;i<16;++i)buf[offset+i]=rnds[i];return buf}return esm_browser_stringify(rnds)}}}]);